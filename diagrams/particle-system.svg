<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: ParticleSystem Pages: 1 -->
<svg width="1076pt" height="1028pt"
 viewBox="0.00 0.00 1076.00 1028.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1024)">
<title>ParticleSystem</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1024 1072,-1024 1072,4 -4,4"/>
<text text-anchor="middle" x="534" y="-1003.2" font-family="Arial Bold" font-size="16.00">Particle System Flow</text>
<g id="clust1" class="cluster">
<title>cluster_pool</title>
<polygon fill="#e8f4f8" stroke="black" points="8,-552 8,-857 258,-857 258,-552 8,-552"/>
<text text-anchor="middle" x="133" y="-840.2" font-family="Arial Bold" font-size="16.00">Object Pool (100,000 particles)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_particle</title>
<polygon fill="#fff8dc" stroke="black" points="138,-227 138,-514 280,-514 280,-227 138,-227"/>
<text text-anchor="middle" x="209" y="-497.2" font-family="Arial Bold" font-size="16.00">Particle Class</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_buffer</title>
<polygon fill="#f0fff0" stroke="black" points="288,-251 288,-337 1027,-337 1027,-251 288,-251"/>
<text text-anchor="middle" x="657.5" y="-320.2" font-family="Arial Bold" font-size="16.00">Three.js BufferGeometry</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_sync</title>
<polygon fill="#fff0f5" stroke="black" points="317,-8 317,-199 669,-199 669,-8 317,-8"/>
<text text-anchor="middle" x="493" y="-182.2" font-family="Arial Bold" font-size="16.00">Animation Loop (per frame)</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_creation</title>
<polygon fill="#fffaf0" stroke="black" points="825,-634 825,-986 1060,-986 1060,-634 825,-634"/>
<text text-anchor="middle" x="942.5" y="-969.2" font-family="Arial Bold" font-size="16.00">Particle Creation (Explosion)</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_patterns</title>
<polygon fill="none" stroke="gray" stroke-dasharray="5,2" points="266,-668 266,-746 817,-746 817,-668 266,-668"/>
<text text-anchor="middle" x="541.5" y="-729.2" font-family="Arial Bold" font-size="16.00">Velocity Patterns</text>
</g>
<!-- pool_init -->
<g id="node1" class="node">
<title>pool_init</title>
<path fill="#4a90d9" stroke="black" d="M238,-823C238,-823 146,-823 146,-823 140,-823 134,-817 134,-811 134,-811 134,-799 134,-799 134,-793 140,-787 146,-787 146,-787 238,-787 238,-787 244,-787 250,-793 250,-799 250,-799 250,-811 250,-811 250,-817 244,-823 238,-823"/>
<text text-anchor="middle" x="192" y="-808.2" font-family="Arial" font-size="11.00" fill="white">Pre&#45;allocate</text>
<text text-anchor="middle" x="192" y="-796.2" font-family="Arial" font-size="11.00" fill="white">100k Particle objects</text>
</g>
<!-- pool_array -->
<g id="node2" class="node">
<title>pool_array</title>
<path fill="#87ceeb" stroke="black" d="M217,-712C217,-712 179,-712 179,-712 173,-712 167,-706 167,-700 167,-700 167,-688 167,-688 167,-682 173,-676 179,-676 179,-676 217,-676 217,-676 223,-676 229,-682 229,-688 229,-688 229,-700 229,-700 229,-706 223,-712 217,-712"/>
<text text-anchor="middle" x="198" y="-697.2" font-family="Arial" font-size="11.00">particles[]</text>
<text text-anchor="middle" x="198" y="-685.2" font-family="Arial" font-size="11.00">Array</text>
</g>
<!-- pool_init&#45;&gt;pool_array -->
<g id="edge1" class="edge">
<title>pool_init&#45;&gt;pool_array</title>
<path fill="none" stroke="black" d="M192.94,-786.97C193.89,-769.71 195.37,-742.74 196.49,-722.46"/>
<polygon fill="black" stroke="black" points="199.99,-722.45 197.05,-712.27 193,-722.06 199.99,-722.45"/>
</g>
<!-- getParticle -->
<g id="node3" class="node">
<title>getParticle</title>
<path fill="#4a90d9" stroke="black" d="M235.5,-596C235.5,-596 182.5,-596 182.5,-596 176.5,-596 170.5,-590 170.5,-584 170.5,-584 170.5,-572 170.5,-572 170.5,-566 176.5,-560 182.5,-560 182.5,-560 235.5,-560 235.5,-560 241.5,-560 247.5,-566 247.5,-572 247.5,-572 247.5,-584 247.5,-584 247.5,-590 241.5,-596 235.5,-596"/>
<text text-anchor="middle" x="209" y="-581.2" font-family="Arial" font-size="11.00" fill="white">getParticle()</text>
<text text-anchor="middle" x="209" y="-569.2" font-family="Arial" font-size="11.00" fill="white">Find inactive</text>
</g>
<!-- pool_array&#45;&gt;getParticle -->
<g id="edge2" class="edge">
<title>pool_array&#45;&gt;getParticle</title>
<path fill="none" stroke="black" d="M199.67,-675.69C201.45,-657.25 204.29,-627.82 206.37,-606.26"/>
<polygon fill="black" stroke="black" points="209.87,-606.39 207.35,-596.1 202.91,-605.72 209.87,-606.39"/>
</g>
<!-- particle_props -->
<g id="node4" class="node">
<title>particle_props</title>
<polygon fill="#fffacd" stroke="black" points="259,-480 153,-480 153,-364 265,-364 265,-474 259,-480"/>
<polyline fill="none" stroke="black" points="259,-480 259,-474 "/>
<polyline fill="none" stroke="black" points="265,-474 259,-474 "/>
<text text-anchor="middle" x="209" y="-467.2" font-family="Arial" font-size="11.00">Properties:</text>
<text text-anchor="middle" x="209" y="-455.2" font-family="Arial" font-size="11.00">• x, y, z (position)</text>
<text text-anchor="middle" x="209" y="-443.2" font-family="Arial" font-size="11.00">• vx, vy, vz (velocity)</text>
<text text-anchor="middle" x="209" y="-431.2" font-family="Arial" font-size="11.00">• r, g, b (color)</text>
<text text-anchor="middle" x="209" y="-419.2" font-family="Arial" font-size="11.00">• size, alpha</text>
<text text-anchor="middle" x="209" y="-407.2" font-family="Arial" font-size="11.00">• life, maxLife</text>
<text text-anchor="middle" x="209" y="-395.2" font-family="Arial" font-size="11.00">• gravity, drag</text>
<text text-anchor="middle" x="209" y="-383.2" font-family="Arial" font-size="11.00">• trail, trailDecay</text>
<text text-anchor="middle" x="209" y="-371.2" font-family="Arial" font-size="11.00">• active (boolean)</text>
</g>
<!-- getParticle&#45;&gt;particle_props -->
<g id="edge3" class="edge">
<title>getParticle&#45;&gt;particle_props</title>
<path fill="none" stroke="black" d="M209,-559.93C209,-542.99 209,-515.93 209,-490.32"/>
<polygon fill="black" stroke="black" points="212.5,-490.22 209,-480.22 205.5,-490.22 212.5,-490.22"/>
<text text-anchor="middle" x="238" y="-534.8" font-family="Arial" font-size="9.00">return inactive</text>
<text text-anchor="middle" x="238" y="-524.8" font-family="Arial" font-size="9.00">particle</text>
</g>
<!-- particle_update -->
<g id="node5" class="node">
<title>particle_update</title>
<path fill="#ffb347" stroke="black" d="M259.5,-327C259.5,-327 158.5,-327 158.5,-327 152.5,-327 146.5,-321 146.5,-315 146.5,-315 146.5,-247 146.5,-247 146.5,-241 152.5,-235 158.5,-235 158.5,-235 259.5,-235 259.5,-235 265.5,-235 271.5,-241 271.5,-247 271.5,-247 271.5,-315 271.5,-315 271.5,-321 265.5,-327 259.5,-327"/>
<text text-anchor="middle" x="209" y="-314.2" font-family="Arial" font-size="11.00">update(dt)</text>
<text text-anchor="middle" x="209" y="-302.2" font-family="Arial" font-size="11.00">• Decrement life</text>
<text text-anchor="middle" x="209" y="-290.2" font-family="Arial" font-size="11.00">• Apply gravity to vy</text>
<text text-anchor="middle" x="209" y="-278.2" font-family="Arial" font-size="11.00">• Apply drag to velocity</text>
<text text-anchor="middle" x="209" y="-266.2" font-family="Arial" font-size="11.00">• Update position</text>
<text text-anchor="middle" x="209" y="-254.2" font-family="Arial" font-size="11.00">• Calculate alpha fade</text>
<text text-anchor="middle" x="209" y="-242.2" font-family="Arial" font-size="11.00">• Deactivate if life &lt;= 0</text>
</g>
<!-- particle_props&#45;&gt;particle_update -->
<g id="edge4" class="edge">
<title>particle_props&#45;&gt;particle_update</title>
<path fill="none" stroke="black" d="M209,-363.66C209,-355.05 209,-346.18 209,-337.6"/>
<polygon fill="black" stroke="black" points="212.5,-337.32 209,-327.32 205.5,-337.32 212.5,-337.32"/>
</g>
<!-- update_loop -->
<g id="node11" class="node">
<title>update_loop</title>
<path fill="#dda0dd" stroke="black" d="M539,-165C539,-165 463,-165 463,-165 457,-165 451,-159 451,-153 451,-153 451,-133 451,-133 451,-127 457,-121 463,-121 463,-121 539,-121 539,-121 545,-121 551,-127 551,-133 551,-133 551,-153 551,-153 551,-159 545,-165 539,-165"/>
<text text-anchor="middle" x="501" y="-152.2" font-family="Arial" font-size="11.00">For each particle:</text>
<text text-anchor="middle" x="501" y="-140.2" font-family="Arial" font-size="11.00">if (p.active)</text>
<text text-anchor="middle" x="501" y="-128.2" font-family="Arial" font-size="11.00"> &#160;p.update(dt)</text>
</g>
<!-- particle_update&#45;&gt;update_loop -->
<g id="edge5" class="edge">
<title>particle_update&#45;&gt;update_loop</title>
<path fill="none" stroke="black" d="M267.8,-234.99C273.12,-231.99 278.56,-229.27 284,-227 349.82,-199.54 378.19,-230.84 442,-199 454.88,-192.57 466.93,-182.44 476.74,-172.61"/>
<polygon fill="black" stroke="black" points="479.41,-174.88 483.78,-165.22 474.35,-170.05 479.41,-174.88"/>
<text text-anchor="middle" x="456.5" y="-209.8" font-family="Arial" font-size="9.00">called each frame</text>
</g>
<!-- positions -->
<g id="node6" class="node">
<title>positions</title>
<path fill="#50c878" stroke="black" d="M1006.5,-303C1006.5,-303 909.5,-303 909.5,-303 903.5,-303 897.5,-297 897.5,-291 897.5,-291 897.5,-271 897.5,-271 897.5,-265 903.5,-259 909.5,-259 909.5,-259 1006.5,-259 1006.5,-259 1012.5,-259 1018.5,-265 1018.5,-271 1018.5,-271 1018.5,-291 1018.5,-291 1018.5,-297 1012.5,-303 1006.5,-303"/>
<text text-anchor="middle" x="958" y="-290.2" font-family="Arial" font-size="11.00" fill="white">positions</text>
<text text-anchor="middle" x="958" y="-278.2" font-family="Arial" font-size="11.00" fill="white">Float32Array[300000]</text>
<text text-anchor="middle" x="958" y="-266.2" font-family="Arial" font-size="11.00" fill="white">(x,y,z * 100k)</text>
</g>
<!-- count_active -->
<g id="node13" class="node">
<title>count_active</title>
<path fill="#dda0dd" stroke="black" d="M648.5,-161C648.5,-161 581.5,-161 581.5,-161 575.5,-161 569.5,-155 569.5,-149 569.5,-149 569.5,-137 569.5,-137 569.5,-131 575.5,-125 581.5,-125 581.5,-125 648.5,-125 648.5,-125 654.5,-125 660.5,-131 660.5,-137 660.5,-137 660.5,-149 660.5,-149 660.5,-155 654.5,-161 648.5,-161"/>
<text text-anchor="middle" x="615" y="-146.2" font-family="Arial" font-size="11.00">Count active</text>
<text text-anchor="middle" x="615" y="-134.2" font-family="Arial" font-size="11.00">Set draw range</text>
</g>
<!-- positions&#45;&gt;count_active -->
<g id="edge11" class="edge">
<title>positions&#45;&gt;count_active</title>
<path fill="none" stroke="black" d="M934.86,-258.82C922.1,-248.06 905.53,-235.49 889,-227 817.68,-190.36 727.45,-166.94 670.45,-154.63"/>
<polygon fill="black" stroke="black" points="671.07,-151.18 660.56,-152.53 669.61,-158.03 671.07,-151.18"/>
</g>
<!-- colors -->
<g id="node7" class="node">
<title>colors</title>
<path fill="#50c878" stroke="black" d="M589.5,-303C589.5,-303 492.5,-303 492.5,-303 486.5,-303 480.5,-297 480.5,-291 480.5,-291 480.5,-271 480.5,-271 480.5,-265 486.5,-259 492.5,-259 492.5,-259 589.5,-259 589.5,-259 595.5,-259 601.5,-265 601.5,-271 601.5,-271 601.5,-291 601.5,-291 601.5,-297 595.5,-303 589.5,-303"/>
<text text-anchor="middle" x="541" y="-290.2" font-family="Arial" font-size="11.00" fill="white">colors</text>
<text text-anchor="middle" x="541" y="-278.2" font-family="Arial" font-size="11.00" fill="white">Float32Array[300000]</text>
<text text-anchor="middle" x="541" y="-266.2" font-family="Arial" font-size="11.00" fill="white">(r,g,b * 100k)</text>
</g>
<!-- colors&#45;&gt;count_active -->
<g id="edge12" class="edge">
<title>colors&#45;&gt;count_active</title>
<path fill="none" stroke="black" d="M552.56,-258.75C565.6,-234.8 586.79,-195.84 600.81,-170.07"/>
<polygon fill="black" stroke="black" points="603.92,-171.68 605.63,-161.22 597.77,-168.34 603.92,-171.68"/>
</g>
<!-- sizes -->
<g id="node8" class="node">
<title>sizes</title>
<path fill="#50c878" stroke="black" d="M728.5,-299C728.5,-299 631.5,-299 631.5,-299 625.5,-299 619.5,-293 619.5,-287 619.5,-287 619.5,-275 619.5,-275 619.5,-269 625.5,-263 631.5,-263 631.5,-263 728.5,-263 728.5,-263 734.5,-263 740.5,-269 740.5,-275 740.5,-275 740.5,-287 740.5,-287 740.5,-293 734.5,-299 728.5,-299"/>
<text text-anchor="middle" x="680" y="-284.2" font-family="Arial" font-size="11.00" fill="white">sizes</text>
<text text-anchor="middle" x="680" y="-272.2" font-family="Arial" font-size="11.00" fill="white">Float32Array[100000]</text>
</g>
<!-- sizes&#45;&gt;count_active -->
<g id="edge13" class="edge">
<title>sizes&#45;&gt;count_active</title>
<path fill="none" stroke="black" d="M671.77,-262.78C660.63,-239.48 640.67,-197.7 627.63,-170.42"/>
<polygon fill="black" stroke="black" points="630.64,-168.6 623.17,-161.08 624.32,-171.62 630.64,-168.6"/>
</g>
<!-- alphas -->
<g id="node9" class="node">
<title>alphas</title>
<path fill="#50c878" stroke="black" d="M867.5,-299C867.5,-299 770.5,-299 770.5,-299 764.5,-299 758.5,-293 758.5,-287 758.5,-287 758.5,-275 758.5,-275 758.5,-269 764.5,-263 770.5,-263 770.5,-263 867.5,-263 867.5,-263 873.5,-263 879.5,-269 879.5,-275 879.5,-275 879.5,-287 879.5,-287 879.5,-293 873.5,-299 867.5,-299"/>
<text text-anchor="middle" x="819" y="-284.2" font-family="Arial" font-size="11.00" fill="white">alphas</text>
<text text-anchor="middle" x="819" y="-272.2" font-family="Arial" font-size="11.00" fill="white">Float32Array[100000]</text>
</g>
<!-- alphas&#45;&gt;count_active -->
<g id="edge14" class="edge">
<title>alphas&#45;&gt;count_active</title>
<path fill="none" stroke="black" d="M797.98,-262.94C784.52,-252.26 766.55,-238.4 750,-227 718.34,-205.2 681.03,-182.47 653.67,-166.33"/>
<polygon fill="black" stroke="black" points="655.19,-163.16 644.79,-161.11 651.64,-169.19 655.19,-163.16"/>
</g>
<!-- drawRange -->
<g id="node10" class="node">
<title>drawRange</title>
<path fill="#228b22" stroke="black" d="M450,-299C450,-299 308,-299 308,-299 302,-299 296,-293 296,-287 296,-287 296,-275 296,-275 296,-269 302,-263 308,-263 308,-263 450,-263 450,-263 456,-263 462,-269 462,-275 462,-275 462,-287 462,-287 462,-293 456,-299 450,-299"/>
<text text-anchor="middle" x="379" y="-284.2" font-family="Arial" font-size="11.00" fill="white">setDrawRange(0, activeCount)</text>
<text text-anchor="middle" x="379" y="-272.2" font-family="Arial" font-size="11.00" fill="white">Only render active particles</text>
</g>
<!-- mark_update -->
<g id="node14" class="node">
<title>mark_update</title>
<path fill="#dda0dd" stroke="black" d="M421,-161C421,-161 337,-161 337,-161 331,-161 325,-155 325,-149 325,-149 325,-137 325,-137 325,-131 331,-125 337,-125 337,-125 421,-125 421,-125 427,-125 433,-131 433,-137 433,-137 433,-149 433,-149 433,-155 427,-161 421,-161"/>
<text text-anchor="middle" x="379" y="-146.2" font-family="Arial" font-size="11.00">Mark needsUpdate</text>
<text text-anchor="middle" x="379" y="-134.2" font-family="Arial" font-size="11.00">for all attributes</text>
</g>
<!-- drawRange&#45;&gt;mark_update -->
<g id="edge16" class="edge">
<title>drawRange&#45;&gt;mark_update</title>
<path fill="none" stroke="black" d="M379,-262.78C379,-239.68 379,-198.43 379,-171.14"/>
<polygon fill="black" stroke="black" points="382.5,-171.08 379,-161.08 375.5,-171.08 382.5,-171.08"/>
</g>
<!-- sync_buffers -->
<g id="node12" class="node">
<title>sync_buffers</title>
<path fill="#dda0dd" stroke="black" d="M649,-84C649,-84 581,-84 581,-84 575,-84 569,-78 569,-72 569,-72 569,-28 569,-28 569,-22 575,-16 581,-16 581,-16 649,-16 649,-16 655,-16 661,-22 661,-28 661,-28 661,-72 661,-72 661,-78 655,-84 649,-84"/>
<text text-anchor="middle" x="615" y="-71.2" font-family="Arial" font-size="11.00">Sync to buffers:</text>
<text text-anchor="middle" x="615" y="-59.2" font-family="Arial" font-size="11.00">• Copy position</text>
<text text-anchor="middle" x="615" y="-47.2" font-family="Arial" font-size="11.00">• Copy color</text>
<text text-anchor="middle" x="615" y="-35.2" font-family="Arial" font-size="11.00">• Copy size</text>
<text text-anchor="middle" x="615" y="-23.2" font-family="Arial" font-size="11.00">• Copy alpha</text>
</g>
<!-- update_loop&#45;&gt;sync_buffers -->
<g id="edge6" class="edge">
<title>update_loop&#45;&gt;sync_buffers</title>
<path fill="none" stroke="black" d="M527.44,-120.89C538.77,-111.85 552.39,-100.98 565.47,-90.54"/>
<polygon fill="black" stroke="black" points="567.89,-93.08 573.52,-84.11 563.52,-87.61 567.89,-93.08"/>
</g>
<!-- sync_buffers&#45;&gt;positions -->
<g id="edge7" class="edge">
<title>sync_buffers&#45;&gt;positions</title>
<path fill="none" stroke="black" d="M661.02,-71.21C682.31,-80.57 707.95,-91.84 731,-102 750.12,-110.43 756.35,-109.82 774,-121 834.86,-159.52 896.32,-217.31 930.55,-251.58"/>
<polygon fill="black" stroke="black" points="928.31,-254.3 937.84,-258.94 933.28,-249.37 928.31,-254.3"/>
</g>
<!-- sync_buffers&#45;&gt;colors -->
<g id="edge8" class="edge">
<title>sync_buffers&#45;&gt;colors</title>
<path fill="none" stroke="black" d="M648.36,-84.19C657.12,-95.02 665.4,-107.71 670,-121 681.33,-153.76 688.53,-169.7 670,-199 654.49,-223.53 635.81,-211.94 611,-227 598.52,-234.57 585.59,-243.9 574.28,-252.6"/>
<polygon fill="black" stroke="black" points="572.08,-249.88 566.36,-258.8 576.39,-255.39 572.08,-249.88"/>
</g>
<!-- sync_buffers&#45;&gt;sizes -->
<g id="edge9" class="edge">
<title>sync_buffers&#45;&gt;sizes</title>
<path fill="none" stroke="black" d="M661.07,-66.53C677.28,-74.47 693.74,-85.94 703,-102 730.59,-149.87 708.92,-216.83 693,-253.46"/>
<polygon fill="black" stroke="black" points="689.64,-252.4 688.7,-262.95 696.02,-255.28 689.64,-252.4"/>
</g>
<!-- sync_buffers&#45;&gt;alphas -->
<g id="edge10" class="edge">
<title>sync_buffers&#45;&gt;alphas</title>
<path fill="none" stroke="black" d="M661.24,-67.25C680.11,-75.52 701.17,-87.04 717,-102 763.26,-145.71 794.64,-215.13 809.37,-253.07"/>
<polygon fill="black" stroke="black" points="806.27,-254.77 813.08,-262.89 812.82,-252.3 806.27,-254.77"/>
</g>
<!-- count_active&#45;&gt;drawRange -->
<g id="edge15" class="edge">
<title>count_active&#45;&gt;drawRange</title>
<path fill="none" stroke="black" d="M601.74,-161.08C591.51,-173.2 576.38,-189.03 560,-199 524.94,-220.34 509.59,-210.53 472,-227 452.32,-235.62 431.46,-247.26 414.48,-257.44"/>
<polygon fill="black" stroke="black" points="412.21,-254.73 405.49,-262.91 415.85,-260.71 412.21,-254.73"/>
</g>
<!-- render -->
<g id="node15" class="node">
<title>render</title>
<ellipse fill="#ff6b6b" stroke="black" cx="233" cy="-50" rx="75.82" ry="22.76"/>
<text text-anchor="middle" x="233" y="-53.2" font-family="Arial" font-size="11.00" fill="white">WebGL Render</text>
<text text-anchor="middle" x="233" y="-41.2" font-family="Arial" font-size="11.00" fill="white">(only draws active)</text>
</g>
<!-- mark_update&#45;&gt;render -->
<g id="edge17" class="edge">
<title>mark_update&#45;&gt;render</title>
<path fill="none" stroke="black" d="M351.54,-124.88C329.45,-111.11 298.09,-91.57 273.17,-76.04"/>
<polygon fill="black" stroke="black" points="274.99,-73.05 264.65,-70.73 271.29,-78.99 274.99,-73.05"/>
</g>
<!-- createExplosion -->
<g id="node16" class="node">
<title>createExplosion</title>
<path fill="#ff6b6b" stroke="black" d="M935.5,-952C935.5,-952 862.5,-952 862.5,-952 856.5,-952 850.5,-946 850.5,-940 850.5,-940 850.5,-896 850.5,-896 850.5,-890 856.5,-884 862.5,-884 862.5,-884 935.5,-884 935.5,-884 941.5,-884 947.5,-890 947.5,-896 947.5,-896 947.5,-940 947.5,-940 947.5,-946 941.5,-952 935.5,-952"/>
<text text-anchor="middle" x="899" y="-939.2" font-family="Arial" font-size="11.00" fill="white">createExplosion(</text>
<text text-anchor="middle" x="899" y="-927.2" font-family="Arial" font-size="11.00" fill="white"> &#160;x, y, z,</text>
<text text-anchor="middle" x="899" y="-915.2" font-family="Arial" font-size="11.00" fill="white"> &#160;type, color,</text>
<text text-anchor="middle" x="899" y="-903.2" font-family="Arial" font-size="11.00" fill="white"> &#160;scale</text>
<text text-anchor="middle" x="899" y="-891.2" font-family="Arial" font-size="11.00" fill="white">)</text>
</g>
<!-- get_config -->
<g id="node17" class="node">
<title>get_config</title>
<path fill="#ffb347" stroke="black" d="M953,-827C953,-827 845,-827 845,-827 839,-827 833,-821 833,-815 833,-815 833,-795 833,-795 833,-789 839,-783 845,-783 845,-783 953,-783 953,-783 959,-783 965,-789 965,-795 965,-795 965,-815 965,-815 965,-821 959,-827 953,-827"/>
<text text-anchor="middle" x="899" y="-814.2" font-family="Arial" font-size="11.00">Get FIREWORK_TYPE</text>
<text text-anchor="middle" x="899" y="-802.2" font-family="Arial" font-size="11.00">config (particles,</text>
<text text-anchor="middle" x="899" y="-790.2" font-family="Arial" font-size="11.00">speed, pattern, etc.)</text>
</g>
<!-- createExplosion&#45;&gt;get_config -->
<g id="edge18" class="edge">
<title>createExplosion&#45;&gt;get_config</title>
<path fill="none" stroke="black" d="M899,-884C899,-869.19 899,-851.8 899,-837.21"/>
<polygon fill="black" stroke="black" points="902.5,-837.16 899,-827.16 895.5,-837.16 902.5,-837.16"/>
</g>
<!-- spawn_loop -->
<g id="node18" class="node">
<title>spawn_loop</title>
<path fill="#ffb347" stroke="black" d="M964.5,-746C964.5,-746 845.5,-746 845.5,-746 839.5,-746 833.5,-740 833.5,-734 833.5,-734 833.5,-654 833.5,-654 833.5,-648 839.5,-642 845.5,-642 845.5,-642 964.5,-642 964.5,-642 970.5,-642 976.5,-648 976.5,-654 976.5,-654 976.5,-734 976.5,-734 976.5,-740 970.5,-746 964.5,-746"/>
<text text-anchor="middle" x="905" y="-733.2" font-family="Arial" font-size="11.00">For i = 0 to numParticles:</text>
<text text-anchor="middle" x="905" y="-721.2" font-family="Arial" font-size="11.00"> &#160;p = getParticle()</text>
<text text-anchor="middle" x="905" y="-709.2" font-family="Arial" font-size="11.00"> &#160;Initialize p with:</text>
<text text-anchor="middle" x="905" y="-697.2" font-family="Arial" font-size="11.00"> &#160;• Position</text>
<text text-anchor="middle" x="905" y="-685.2" font-family="Arial" font-size="11.00"> &#160;• Velocity (pattern&#45;based)</text>
<text text-anchor="middle" x="905" y="-673.2" font-family="Arial" font-size="11.00"> &#160;• Color + variation</text>
<text text-anchor="middle" x="905" y="-661.2" font-family="Arial" font-size="11.00"> &#160;• Physics params</text>
<text text-anchor="middle" x="905" y="-649.2" font-family="Arial" font-size="11.00"> &#160;p.active = true</text>
</g>
<!-- get_config&#45;&gt;spawn_loop -->
<g id="edge19" class="edge">
<title>get_config&#45;&gt;spawn_loop</title>
<path fill="none" stroke="black" d="M900.16,-782.98C900.59,-775.18 901.1,-765.88 901.63,-756.29"/>
<polygon fill="black" stroke="black" points="905.12,-756.43 902.18,-746.25 898.13,-756.04 905.12,-756.43"/>
</g>
<!-- pattern_sphere -->
<g id="node19" class="node">
<title>pattern_sphere</title>
<path fill="#e8e8e8" stroke="black" d="M324,-712C324,-712 286,-712 286,-712 280,-712 274,-706 274,-700 274,-700 274,-688 274,-688 274,-682 280,-676 286,-676 286,-676 324,-676 324,-676 330,-676 336,-682 336,-688 336,-688 336,-700 336,-700 336,-706 330,-712 324,-712"/>
<text text-anchor="middle" x="305" y="-697.2" font-family="Arial" font-size="11.00">Spherical</text>
<text text-anchor="middle" x="305" y="-685.2" font-family="Arial" font-size="11.00">(default)</text>
</g>
<!-- get_config&#45;&gt;pattern_sphere -->
<g id="edge21" class="edge">
<title>get_config&#45;&gt;pattern_sphere</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M832.78,-803.5C704.59,-801.49 427.94,-791.82 346,-746 335.37,-740.06 326.46,-730.15 319.68,-720.64"/>
<polygon fill="black" stroke="black" points="322.5,-718.56 314.07,-712.14 316.66,-722.42 322.5,-718.56"/>
</g>
<!-- pattern_ring -->
<g id="node20" class="node">
<title>pattern_ring</title>
<path fill="#e8e8e8" stroke="black" d="M421.5,-712C421.5,-712 366.5,-712 366.5,-712 360.5,-712 354.5,-706 354.5,-700 354.5,-700 354.5,-688 354.5,-688 354.5,-682 360.5,-676 366.5,-676 366.5,-676 421.5,-676 421.5,-676 427.5,-676 433.5,-682 433.5,-688 433.5,-688 433.5,-700 433.5,-700 433.5,-706 427.5,-712 421.5,-712"/>
<text text-anchor="middle" x="394" y="-697.2" font-family="Arial" font-size="11.00">Ring</text>
<text text-anchor="middle" x="394" y="-685.2" font-family="Arial" font-size="11.00">cos/sin angle</text>
</g>
<!-- get_config&#45;&gt;pattern_ring -->
<g id="edge22" class="edge">
<title>get_config&#45;&gt;pattern_ring</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M832.88,-800.98C723.39,-795.1 509.84,-779.61 443,-746 431,-739.97 420.31,-729.78 412,-720.09"/>
<polygon fill="black" stroke="black" points="414.61,-717.75 405.61,-712.17 409.16,-722.15 414.61,-717.75"/>
</g>
<!-- pattern_heart -->
<g id="node21" class="node">
<title>pattern_heart</title>
<path fill="#e8e8e8" stroke="black" d="M526,-712C526,-712 464,-712 464,-712 458,-712 452,-706 452,-700 452,-700 452,-688 452,-688 452,-682 458,-676 464,-676 464,-676 526,-676 526,-676 532,-676 538,-682 538,-688 538,-688 538,-700 538,-700 538,-706 532,-712 526,-712"/>
<text text-anchor="middle" x="495" y="-697.2" font-family="Arial" font-size="11.00">Heart</text>
<text text-anchor="middle" x="495" y="-685.2" font-family="Arial" font-size="11.00">heart equation</text>
</g>
<!-- get_config&#45;&gt;pattern_heart -->
<g id="edge23" class="edge">
<title>get_config&#45;&gt;pattern_heart</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M832.72,-797.89C745.02,-788.98 595.81,-770.76 547,-746 534.84,-739.83 523.7,-729.81 514.88,-720.28"/>
<polygon fill="black" stroke="black" points="517.27,-717.7 508.04,-712.49 512,-722.31 517.27,-717.7"/>
</g>
<!-- pattern_star -->
<g id="node22" class="node">
<title>pattern_star</title>
<path fill="#e8e8e8" stroke="black" d="M598,-712C598,-712 568,-712 568,-712 562,-712 556,-706 556,-700 556,-700 556,-688 556,-688 556,-682 562,-676 568,-676 568,-676 598,-676 598,-676 604,-676 610,-682 610,-688 610,-688 610,-700 610,-700 610,-706 604,-712 598,-712"/>
<text text-anchor="middle" x="583" y="-697.2" font-family="Arial" font-size="11.00">Star</text>
<text text-anchor="middle" x="583" y="-685.2" font-family="Arial" font-size="11.00">5 points</text>
</g>
<!-- get_config&#45;&gt;pattern_star -->
<g id="edge24" class="edge">
<title>get_config&#45;&gt;pattern_star</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M832.96,-791.58C753.05,-776.37 627.99,-751.89 619,-746 609.62,-739.85 601.94,-730.34 596.12,-721.19"/>
<polygon fill="black" stroke="black" points="598.99,-719.16 590.92,-712.29 592.94,-722.69 598.99,-719.16"/>
</g>
<!-- pattern_spiral -->
<g id="node23" class="node">
<title>pattern_spiral</title>
<path fill="#e8e8e8" stroke="black" d="M672,-712C672,-712 640,-712 640,-712 634,-712 628,-706 628,-700 628,-700 628,-688 628,-688 628,-682 634,-676 640,-676 640,-676 672,-676 672,-676 678,-676 684,-682 684,-688 684,-688 684,-700 684,-700 684,-706 678,-712 672,-712"/>
<text text-anchor="middle" x="656" y="-697.2" font-family="Arial" font-size="11.00">Spiral</text>
<text text-anchor="middle" x="656" y="-685.2" font-family="Arial" font-size="11.00">t * angle</text>
</g>
<!-- get_config&#45;&gt;pattern_spiral -->
<g id="edge25" class="edge">
<title>get_config&#45;&gt;pattern_spiral</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M832.92,-785.84C774.15,-769.61 697,-748.07 694,-746 684.49,-739.45 676.41,-729.74 670.18,-720.55"/>
<polygon fill="black" stroke="black" points="673.08,-718.59 664.78,-712.01 667.16,-722.33 673.08,-718.59"/>
</g>
<!-- pattern_dragon -->
<g id="node24" class="node">
<title>pattern_dragon</title>
<path fill="#e8e8e8" stroke="black" d="M797.5,-712C797.5,-712 714.5,-712 714.5,-712 708.5,-712 702.5,-706 702.5,-700 702.5,-700 702.5,-688 702.5,-688 702.5,-682 708.5,-676 714.5,-676 714.5,-676 797.5,-676 797.5,-676 803.5,-676 809.5,-682 809.5,-688 809.5,-688 809.5,-700 809.5,-700 809.5,-706 803.5,-712 797.5,-712"/>
<text text-anchor="middle" x="756" y="-697.2" font-family="Arial" font-size="11.00">Dragon</text>
<text text-anchor="middle" x="756" y="-685.2" font-family="Arial" font-size="11.00">serpentine + wings</text>
</g>
<!-- get_config&#45;&gt;pattern_dragon -->
<g id="edge26" class="edge">
<title>get_config&#45;&gt;pattern_dragon</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M870.34,-782.96C855.54,-772.03 837.23,-758.4 821,-746 809.37,-737.12 796.69,-727.22 785.64,-718.52"/>
<polygon fill="black" stroke="black" points="787.58,-715.59 777.56,-712.14 783.24,-721.08 787.58,-715.59"/>
</g>
<!-- spawn_loop&#45;&gt;getParticle -->
<g id="edge20" class="edge">
<title>spawn_loop&#45;&gt;getParticle</title>
<path fill="none" stroke="black" d="M838.38,-641.8C832.68,-638.81 826.86,-636.14 821,-634 717.72,-596.18 383.75,-583.6 257.74,-580.14"/>
<polygon fill="black" stroke="black" points="257.7,-576.64 247.61,-579.87 257.51,-583.64 257.7,-576.64"/>
<text text-anchor="middle" x="815" y="-616.8" font-family="Arial" font-size="9.00">request particle</text>
</g>
</g>
</svg>
